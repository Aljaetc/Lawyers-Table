(this["webpackJsonptable-validation-test"]=this["webpackJsonptable-validation-test"]||[]).push([[0],{45:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);a(0);var n=a(12),r=a.n(n),i=(a(45),a(27)),c=a(15),o=a(34),s=a(6),l="SHOW_LOADER",u="HIDE_LOADER",p="SHOW_ALERT",d="HIDE_ALERT",b="INSERT_DATA_FROM_CSV",f={loading:!1,data:null},h=a(82),j=a(73),O=a(83),m=a(30),y=a.n(m),g=a(35),v={Alabama:"AL",Alaska:"AK",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE",Florida:"FL",Georgia:"GA",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New York":"NY",North:"ND",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Pennsylvania:"PA",Rhode:"RI",South:"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT",Virginia:"VA",Washington:"WA",West:"WV",Wisconsin:"WI",Wyoming:"WY"};function x(){return{type:u}}function C(e){return function(t){t({type:p,payload:e}),setTimeout((function(){t({type:d})}),1500)}}var N=a(4),I=Object(j.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}}));function A(e){e.setData;var t=I(),n=Object(c.b)();return Object(N.jsxs)("div",{className:t.root,children:[Object(N.jsx)("input",{className:t.input,id:"contained-button-file",type:"file",onChange:function(e){return n((t=e,function(){var n=Object(g.a)(y.a.mark((function n(r){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{r({type:l}),a(50).parse(t.target.files[0],{header:!0,transform:function(e,t){if(e=e.trim(),"yearlyIncome"===t&&(isNaN(parseFloat(e))||(e=parseFloat(e).toFixed(2))),"age"!==t&&"experience"!==t||isNaN(parseInt(e))||(e=parseInt(e)),"hasChildren"===t&&""===e&&(e="false"),"licenseStates"===t)for(var a in v){var n=new RegExp("".concat(a),"ig");e=e.replace(n,v[a])}return e},complete:function(e){r({type:b,payload:e.data}),r(x())}})}catch(e){r(C("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a")),r(x())}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));var t}}),Object(N.jsx)("label",{htmlFor:"contained-button-file",children:Object(N.jsx)(O.a,{variant:"contained",color:"primary",component:"span",children:"Upload"})})]})}var D=a(77),M=a(79),E=a(81),T=a(76),w=a(80),Y=a(75),L=a(78),F=Object(j.a)({error:{background:"rgba(255, 150, 150, .7)!important"}});function W(e){var t=e.row,a=F();return Object(N.jsx)(Y.a,{children:["id","fullName","phone","email","age","experience","yearlyIncome","hasChildren","licenseStates","expirationDate","licenseNumber","duplicate"].map((function(e){return Object(N.jsx)(T.a,{align:"right",className:t.errors.includes(e)&&"id"!==e&&"fullName"!==e&&"duplicate"!==e?a.error:"",children:t[e]},e)}))})}var k=Object(j.a)({tableWrapper:{marginBottom:"2em"},table:{minWidth:650,"& th":{background:"#9999FF",borderLeft:"1px solid #CCCCCC"},"& td":{borderLeft:"1px solid #CCCCCC"},"& tr:nth-of-type(odd)":{background:"#ECECEC"}}});function S(e){var t=e.data,a=k();return Object(N.jsx)(D.a,{component:L.a,className:a.tableWrapper,children:Object(N.jsxs)(M.a,{className:a.table,size:"small","aria-label":"simple table",children:[Object(N.jsx)(w.a,{children:Object(N.jsx)(Y.a,{children:["ID","Full Name","Phone","Email","Age","Experience","Yearly Income","Has children","License states","Expiration date","License number","Duplicate with"].map((function(e){return Object(N.jsx)(T.a,{align:"right",children:e},e)}))})}),Object(N.jsx)(E.a,{children:t.map((function(e){return Object(N.jsx)(W,{row:e},e.id)}))})]})})}var R=a(21),H=a(26),V=a.n(H),_=a(52);_.extend(_.validators.datetime,{parse:function(e,t){return+V.a.utc(e,["YYYY-MM-DD","MM/DD/YYYY"],!0)},format:function(e,t){return V.a.utc(e).format("YYYY-MM-DD")}});var K={age:{numericality:{onlyInteger:!0,greaterThan:20}},experience:function(e,t){return{numericality:{greaterThanOrEqualTo:0,lessThan:t.age}}},yearlyIncome:{numericality:{lessThan:1e6}},email:{presence:!0,email:!0},hasChildren:{inclusion:{within:["true","false"]}},licenseStates:function(e){for(var t in v){var a=new RegExp("(^| |\\|)".concat(v[t],"( |$|\\|)"),"gi");e=e.replace(a,"")}return""!==(e=e.replace(/\|/g,"")).trim()&&{inclusion:{within:["AL"]}}},licenseNumber:{format:{pattern:"[a-z0-9]{6}",flags:"i"}},expirationDate:{presence:!0,datetime:{earliest:V.a.utc()}}};var P=function(){var e=Object(c.c)((function(e){return e.data}));return Object(N.jsxs)("div",{className:"App",children:[Object(N.jsx)(h.a,{variant:"h2",component:"h1",gutterBottom:!0,children:"Welcome to the best lawyers app"}),e&&Object(N.jsx)(S,{data:e}),Object(N.jsx)(h.a,{variant:"h5",gutterBottom:!0,children:"Please, choose the CSV file you want to parse"}),Object(N.jsx)(A,{})]})},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,85)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))};function z(e,t){e.forEach((function(a,n,r){var i=r.findIndex((function(e,r){return a[t]===e[t]&&n!==r}));-1!==i&&(e[n].duplicate?e[n].duplicate=e[n].duplicate+", "+(i+1):e[n].duplicate=""+(i+1))}))}var U=Object(i.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case u:return Object(s.a)(Object(s.a)({},e),{},{loading:!1});case p:return Object(s.a)(Object(s.a)({},e),{},{alert:t.payload});case d:return Object(s.a)(Object(s.a)({},e),{},{alert:null});case b:return Object(s.a)(Object(s.a)({},e),{},{data:t.payload});default:return e}}),Object(i.b)(Object(i.a)(o.a,(function(e){return e.dispatch,function(e){return function(t){if(t.type===b){var a=t.payload.map((function(e,t){return Object(s.a)({id:t+1,errors:[]},e)}));t.payload=a}return e(t)}}}),(function(e){return e.dispatch,function(e){return function(t){if(t.type===b){var a=t.payload.map((function(e,t){var a=/^(\+1|1)?(\d{10})$/;return a.test(e.phone)?Object(s.a)(Object(s.a)({},e),{},{phone:"".concat(e.phone).replace(a,"+1$2")}):Object(s.a)(Object(s.a)({},e),{},{errors:["phone"].concat(Object(R.a)(e.errors))})}));t.payload=a}return e(t)}}}),(function(e){return e.dispatch,function(e){return function(t){if(t.type===b){var a=t.payload.map((function(e,t){var a=_(e,K);return a?Object(s.a)(Object(s.a)({},e),{},{errors:[].concat(Object(R.a)(e.errors),Object(R.a)(Object.keys(a)))}):e}));t.payload=a}return e(t)}}}),(function(e){return e.dispatch,function(e){return function(t){return t.type===b&&(z(t.payload,"phone"),z(t.payload,"email")),e(t)}}})))),$=Object(N.jsx)(c.a,{store:U,children:Object(N.jsx)(P,{})});r.a.render($,document.getElementById("root")),B()}},[[53,1,2]]]);
//# sourceMappingURL=main.a7362941.chunk.js.map