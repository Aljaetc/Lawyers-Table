{"version":3,"sources":["redux/types.js","redux/rootReduser.js","dataProcessing/stateMap.js","redux/actions.js","components/UploadButton/index.js","components/LawyersTable/LawyersTableRow.js","components/LawyersTable/index.js","dataProcessing/dataValidate.js","App.js","reportWebVitals.js","dataProcessing/checkDuplicate.js","index.js","dataProcessing/insertID.js","dataProcessing/phoneCheck.js"],"names":["SHOW_LOADER","HIDE_LOADER","SHOW_ALERT","HIDE_ALERT","INSERT_DATA_FROM_CSV","initialState","loading","data","stateMap","hideLoader","type","showAlert","text","dispatch","payload","setTimeout","useStyles","makeStyles","theme","root","margin","spacing","input","display","UploadButton","setData","classes","useDispatch","handleInputOnChange","e","event","a","require","parse","target","files","header","transform","value","trim","isNaN","parseFloat","toFixed","parseInt","prop","regExp","RegExp","replace","complete","results","useEffect","document","getElementById","addEventListener","className","id","htmlFor","Button","variant","color","component","error","background","LawyersTableRow","row","TableRow","TableCell","align","fullName","errors","includes","phone","email","age","experience","yearlyIncome","hasChildren","licenseStates","expirationDate","licenseNumber","duplicate","table","minWidth","marginBottom","borderLeft","LawyersTable","Table","size","aria-label","Paper","TableHead","TableBody","map","validate","extend","validators","datetime","options","moment","utc","format","constraints","numericality","onlyInteger","greaterThan","attributes","greaterThanOrEqualTo","lessThan","presence","inclusion","within","regexp","pattern","flags","dateOnly","earliest","App","useSelector","state","Typography","gutterBottom","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","findDuplicateItem","attr","forEach","item","index","array","findIndex","i","idx","store","createStore","action","alert","compose","applyMiddleware","thunk","next","newData","test","Object","keys","app","ReactDOM","render"],"mappings":"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","file":"static/js/main.8b055ccd.chunk.js","sourcesContent":["export const SHOW_LOADER = 'SHOW_LOADER'\r\nexport const HIDE_LOADER = 'HIDE_LOADER'\r\nexport const SHOW_ALERT = 'SHOW_ALERT'\r\nexport const HIDE_ALERT = 'HIDE_ALERT'\r\nexport const INSERT_DATA_FROM_CSV = 'INSERT_DATA_FROM_CSV'\r\n","import { HIDE_LOADER, SHOW_LOADER, SHOW_ALERT, HIDE_ALERT, INSERT_DATA_FROM_CSV } from './types'\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  data: null\r\n}\r\n\r\nexport const rootReduser = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SHOW_LOADER: {\r\n      return {...state, loading: true}\r\n    }\r\n    case HIDE_LOADER: {\r\n      return {...state, loading: false}\r\n    }\r\n    case SHOW_ALERT: {\r\n      return {...state, alert: action.payload}\r\n    }\r\n    case HIDE_ALERT: {\r\n      return {...state, alert: null}\r\n    }\r\n    case INSERT_DATA_FROM_CSV: {\r\n      return {...state, data: action.payload}\r\n    }\r\n    default: return state\r\n  }\r\n}","export const stateMap = {\r\n  \"Alabama\": \"AL\",\r\n  \"Alaska\": \"AK\",\r\n  \"Arizona\": \"AZ\",\r\n  \"Arkansas\": \"AR\",\r\n  \"California\": \"CA\",\r\n  \"Colorado\": \"CO\",\r\n  \"Connecticut\": \"CT\",\r\n  \"Delaware\": \"DE\",\r\n  \"Florida\": \"FL\",\r\n  \"Georgia\": \"GA\",\r\n  \"Hawaii\": \"HI\",\r\n  \"Idaho\": \"ID\",\r\n  \"Illinois\": \"IL\",\r\n  \"Indiana\": \"IN\",\r\n  \"Iowa\": \"IA\",\r\n  \"Kansas\": \"KS\",\r\n  \"Kentucky\": \"KY\",\r\n  \"Louisiana\": \"LA\",\r\n  \"Maine\": \"ME\",\r\n  \"Maryland\": \"MD\",\r\n  \"Massachusetts\": \"MA\",\r\n  \"Michigan\": \"MI\",\r\n  \"Minnesota\": \"MN\",\r\n  \"Mississippi\": \"MS\",\r\n  \"Missouri\": \"MO\",\r\n  \"Montana\": \"MT\",\r\n  \"Nebraska\": \"NE\",\r\n  \"Nevada\": \"NV\",\r\n  \"New\": \"NY\",\r\n  \"North\": \"ND\",\r\n  \"Ohio\": \"OH\",\r\n  \"Oklahoma\": \"OK\",\r\n  \"Oregon\": \"OR\",\r\n  \"Pennsylvania\": \"PA\",\r\n  \"Rhode\": \"RI\",\r\n  \"South\": \"SD\",\r\n  \"Tennessee\": \"TN\",\r\n  \"Texas\": \"TX\",\r\n  \"Utah\": \"UT\",\r\n  \"Vermont\": \"VT\",\r\n  \"Virginia\": \"VA\",\r\n  \"Washington\": \"WA\",\r\n  \"West\": \"WV\",\r\n  \"Wisconsin\": \"WI\",\r\n  \"Wyoming\": \"WY\"\r\n}","import { SHOW_LOADER, HIDE_LOADER, SHOW_ALERT, HIDE_ALERT, INSERT_DATA_FROM_CSV } from './types'\r\nimport { stateMap } from '../dataProcessing/stateMap'\r\n\r\nexport function showLoader() {\r\n  return {\r\n    type: SHOW_LOADER\r\n  }\r\n}\r\n\r\nexport function hideLoader() {\r\n  return {\r\n    type: HIDE_LOADER\r\n  }\r\n}\r\n\r\nexport function showAlert(text) {\r\n  return dispatch => {\r\n    dispatch({\r\n      type: SHOW_ALERT,\r\n      payload: text\r\n    })\r\n\r\n    setTimeout(() => {\r\n      dispatch(hideAlert())\r\n    }, 1500)\r\n  }\r\n}\r\n\r\nexport function hideAlert() {\r\n  return {\r\n    type: HIDE_ALERT\r\n  }\r\n}\r\n\r\nexport function insertDataFromCSV(event) {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch(showLoader())\r\n      var Papa = require(\"papaparse/papaparse.min.js\")\r\n      Papa.parse(event.target.files[0], {\r\n        header: true,\r\n        transform: function(value, header) {\r\n          value = value.trim()\r\n          if (header === 'yearlyIncome') {\r\n            if (!isNaN(parseFloat(value))) {\r\n              value = parseFloat(value).toFixed(2)\r\n            }\r\n          }\r\n          if (header === 'age' || header === 'experience') {\r\n            if (!isNaN(parseInt(value))) {\r\n              value = parseInt(value)\r\n            }\r\n          }\r\n          if (header === 'hasChildren') {\r\n            if (value === '') {\r\n              value = 'false'\r\n            }\r\n          }\r\n          if (header === 'licenseStates') {\r\n            for (let prop in stateMap) {\r\n              let regExp = new RegExp(`${prop}`, 'ig')\r\n              value = value.replace(regExp, stateMap[prop])\r\n            }\r\n          }\r\n          return value\r\n        },\r\n        complete: function(results) {\r\n          dispatch({type: INSERT_DATA_FROM_CSV, payload: results.data})\r\n          dispatch(hideLoader())\r\n        }\r\n      })\r\n    } catch (e) {\r\n      dispatch(showAlert('Что-то пошло не так'))\r\n      dispatch(hideLoader())\r\n    }\r\n  }\r\n}\r\n","import { makeStyles } from '@material-ui/core/styles'\r\nimport Button from '@material-ui/core/Button'\r\nimport { useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { insertDataFromCSV } from '../../redux/actions'\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  input: {\r\n    display: 'none',\r\n  },\r\n}));\r\n\r\nexport default function UploadButton({ setData }) {\r\n  const classes = useStyles()\r\n  const dispatch = useDispatch()\r\n\r\n  const handleInputOnChange = (e) => {\r\n    dispatch(insertDataFromCSV(e))\r\n  }\r\n\r\n  useEffect(() => {\r\n    const input = document.getElementById('contained-button-file')\r\n    input.addEventListener('input', handleInputOnChange)\r\n  })\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <input\r\n        className={classes.input}\r\n        id=\"contained-button-file\"\r\n        type=\"file\"\r\n      />\r\n      <label htmlFor=\"contained-button-file\">\r\n        <Button variant=\"contained\" color=\"primary\" component=\"span\">\r\n          Upload\r\n        </Button>\r\n      </label>\r\n    </div>\r\n  );\r\n}\r\n","import { makeStyles } from '@material-ui/core/styles'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport TableCell from '@material-ui/core/TableCell'\r\n\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  error: {\r\n    background: 'rgba(255, 150, 150, .7)!important'\r\n  }\r\n})\r\n\r\nexport default function LawyersTableRow({ row }) {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <TableRow>\r\n      <TableCell>{row.id}</TableCell>\r\n      <TableCell align=\"right\">{row.fullName}</TableCell>\r\n      <TableCell align=\"right\" className={row.errors.includes('phone') ? classes.error : ''}>{row.phone}</TableCell>\r\n      <TableCell align=\"right\" className={row.errors.includes('email') ? classes.error : ''}>{row.email}</TableCell>\r\n      <TableCell align=\"right\" className={row.errors.includes('age') ? classes.error : ''}>{row.age}</TableCell>\r\n      <TableCell align=\"right\" className={row.errors.includes('experience') ? classes.error : ''}>{row.experience}</TableCell>\r\n      <TableCell align=\"right\" className={row.errors.includes('yearlyIncome') ? classes.error : ''}>{row.yearlyIncome}</TableCell>\r\n      <TableCell align=\"right\" className={row.errors.includes('hasChildren') ? classes.error : ''}>{row.hasChildren}</TableCell>\r\n      <TableCell align=\"right\" className={row.errors.includes('licenseStates') ? classes.error : ''}>{row.licenseStates}</TableCell>\r\n      <TableCell align=\"right\" className={row.errors.includes('expirationDate') ? classes.error : ''}>{row.expirationDate}</TableCell>\r\n      <TableCell align=\"right\" className={row.errors.includes('licenseNumber') ? classes.error : ''}>{row.licenseNumber}</TableCell>\r\n      <TableCell align=\"right\">{row.duplicate}</TableCell>\r\n    </TableRow>\r\n  )\r\n}\r\n","import { makeStyles } from '@material-ui/core/styles'\r\nimport Table from '@material-ui/core/Table'\r\nimport TableBody from '@material-ui/core/TableBody'\r\nimport TableCell from '@material-ui/core/TableCell'\r\nimport TableHead from '@material-ui/core/TableHead'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport LawyersTableRow from './LawyersTableRow'\r\n\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650,\r\n    marginBottom: '2em',\r\n    '& th': {\r\n      background: '#9999FF',\r\n      borderLeft: '1px solid #CCCCCC',\r\n    },\r\n    '& td': {\r\n      borderLeft: '1px solid #CCCCCC',\r\n    },\r\n    '& tr:nth-of-type(odd)': {\r\n      background: '#ECECEC'\r\n    }\r\n  }\r\n})\r\n\r\nexport default function LawyersTable({ data }) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n      <Table className={classes.table} size=\"small\" aria-label=\"simple table\" component={Paper}>\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>ID</TableCell>\r\n            <TableCell align=\"right\">Full Name</TableCell>\r\n            <TableCell align=\"right\">Phone</TableCell>\r\n            <TableCell align=\"right\">Email</TableCell>\r\n            <TableCell align=\"right\">Age</TableCell>\r\n            <TableCell align=\"right\">Experience</TableCell>\r\n            <TableCell align=\"right\">Yearly Income</TableCell>\r\n            <TableCell align=\"right\">Has children</TableCell>\r\n            <TableCell align=\"right\">License states</TableCell>\r\n            <TableCell align=\"right\">Expiration date</TableCell>\r\n            <TableCell align=\"right\">License number</TableCell>\r\n            <TableCell align=\"right\">Duplicate with</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {data.map(row => <LawyersTableRow row={row}  key={row.id} />)}\r\n        </TableBody>\r\n      </Table>\r\n  );\r\n}\r\n","import { INSERT_DATA_FROM_CSV } from \"../redux/types\"\r\nimport { stateMap } from './stateMap'\r\nimport moment from 'moment'\r\nvar validate = require(\"validate.js\")\r\n\r\n\r\nvalidate.extend(validate.validators.datetime, {\r\n  parse: function(value, options) {\r\n    return +moment.utc(value);\r\n  },\r\n  format: function(value, options) {\r\n    var format = \"YYYY-MM-DD\" || \"MM/DD/YYYY\";\r\n    return moment.utc(value).format(format);\r\n  }\r\n});\r\n\r\nconst constraints = {\r\n  age: {\r\n    numericality: {\r\n      onlyInteger: true,\r\n      greaterThan: 21,\r\n    }\r\n  },\r\n  experience: function(value, attributes) {\r\n    return {\r\n      numericality: {\r\n        greaterThanOrEqualTo: 0,\r\n        lessThan: attributes.age\r\n      }\r\n    }\r\n  },\r\n  yearlyIncome: {\r\n    numericality: {\r\n      lessThan: 1000000\r\n    }\r\n  },\r\n  email: {\r\n    presence: true,\r\n    email: true\r\n  },\r\n  hasChildren: {\r\n    inclusion: {\r\n      within: ['true', 'false']\r\n    }\r\n  },\r\n  licenseStates: function(value) {\r\n    for (let prop in stateMap) {\r\n      let regexp = new RegExp(`(^| |\\\\|)${stateMap[prop]}( |$|\\\\|)`, 'gi')\r\n      value = value.replace(regexp, '')\r\n    }\r\n    let regexp = /\\|/g\r\n    value = value.replace(regexp, '')\r\n    if (value.trim() === '') {\r\n      return false\r\n    }\r\n    return {\r\n      inclusion: {\r\n        within: ['AL']\r\n      }\r\n    }\r\n  },\r\n  licenseNumber: {\r\n    format: {\r\n      pattern: \"[a-z0-9]{6}\",\r\n      flags: \"i\"\r\n    }\r\n  },\r\n  expirationDate: {\r\n    presence: true,\r\n    datetime: {\r\n      dateOnly: true,\r\n      earliest: moment.utc()\r\n    }\r\n  }\r\n}\r\n\r\nexport function dataValidate({ dispatch }) {\r\n  return function(next) {\r\n    return function(action) {\r\n      if (action.type === INSERT_DATA_FROM_CSV) {\r\n        const newData = action.payload.map((i, idx) => {\r\n          let error = validate(i, constraints)\r\n          if (error) return {...i, errors: [...i.errors, ...Object.keys(error)]}\r\n          return i\r\n        })\r\n        action.payload = newData\r\n      }\r\n\r\n      return next(action)\r\n    } \r\n  }\r\n}\r\n","import { useSelector } from 'react-redux'\nimport Typography from '@material-ui/core/Typography'\nimport UploadButton from './components/UploadButton'\nimport LawyersTable from './components/LawyersTable'\nimport './dataProcessing/dataValidate'\n\nfunction App() {\nconst data = useSelector(state => state.data)\n\n  return (\n    <div className=\"App\">\n      <Typography variant=\"h2\" component=\"h1\" gutterBottom>\n        Welcome to the best lawyers app\n      </Typography>\n      {data && <LawyersTable data={data}/>}\n      <Typography variant=\"h5\" gutterBottom>\n        Please, choose the CSV file you want to parse\n      </Typography>\n      <UploadButton />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { INSERT_DATA_FROM_CSV } from \"../redux/types\"\r\n\r\nexport function checkDuplicate({ dispatch }) {\r\n  return function(next) {\r\n    return function(action) {\r\n      if (action.type === INSERT_DATA_FROM_CSV) {\r\n        \r\n        findDuplicateItem(action.payload, 'phone')\r\n        findDuplicateItem(action.payload, 'email')\r\n\r\n      }\r\n      return next(action)\r\n    } \r\n  }\r\n}\r\n\r\nfunction findDuplicateItem(data, attr) {\r\n  data.forEach((item, index, array) => {\r\n    let duplicate = array.findIndex((i, idx) => {\r\n      return item[attr] === i[attr] && index !== idx\r\n    })\r\n    if (duplicate !== -1) {\r\n      data[index].duplicate ?\r\n        data[index].duplicate = data[index].duplicate + ', ' + (duplicate + 1) :\r\n        data[index].duplicate = '' + (duplicate + 1)\r\n    }\r\n  })\r\n}\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './index.css'\n\nimport { compose, createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport thunk from 'redux-thunk'\nimport { rootReduser } from './redux/rootReduser.js'\n\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport { insertID } from './dataProcessing/insertID'\nimport { phoneCheck } from './dataProcessing/phoneCheck'\nimport { dataValidate } from './dataProcessing/dataValidate'\nimport { checkDuplicate } from './dataProcessing/checkDuplicate'\n\n\nconst store = createStore(rootReduser, compose(\n  applyMiddleware(\n    thunk, insertID, phoneCheck, dataValidate, checkDuplicate\n  ),\n  // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n))\n\nconst app = (\n  <Provider store={store}>\n    <App />\n  </Provider>\n)\n\nReactDOM.render(app, document.getElementById('root'));\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// insert id and empty array for errors in each rows\r\nimport { INSERT_DATA_FROM_CSV } from \"../redux/types\"\r\n\r\nexport function insertID({ dispatch }) {\r\n  return function(next) {\r\n    return function(action) {\r\n      if (action.type === INSERT_DATA_FROM_CSV) {\r\n        const newData = action.payload.map((i, idx) => {\r\n          return ({\r\n            id: idx + 1,\r\n            errors: [],\r\n            ...i\r\n          })\r\n        })\r\n        action.payload = newData\r\n      }\r\n      return next(action)\r\n    } \r\n  }\r\n}\r\n","// check phone number and convert it to the +1xxxxxxx format\r\nimport { INSERT_DATA_FROM_CSV } from \"../redux/types\"\r\n\r\nexport function phoneCheck({ dispatch }) {\r\n  return function(next) {\r\n    return function(action) {\r\n      if (action.type === INSERT_DATA_FROM_CSV) {\r\n        const newData = action.payload.map((i, idx) => {\r\n          let regexp = /^(\\+1|1)?(\\d{10})$/\r\n          if (regexp.test(i.phone)) {\r\n            return {...i, phone: `${i.phone}`.replace(regexp, '+1$2' )}\r\n          }\r\n          return {...i, errors: ['phone', ...i.errors]}\r\n        })\r\n        action.payload = newData\r\n      }\r\n\r\n      return next(action)\r\n    } \r\n  }\r\n}\r\n"],"sourceRoot":""}